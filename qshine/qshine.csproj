<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <ProjectGuid>{05162FC4-73A3-4190-A336-568E2289302C}</ProjectGuid>
    <EnableDefaultCompileItems>false</EnableDefaultCompileItems>
    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
    <EnableDefaultEmbeddedResourceItems>false</EnableDefaultEmbeddedResourceItems>
    <SignAssembly>true</SignAssembly>
    <AssemblyOriginatorKeyFile>..\qshine.snk</AssemblyOriginatorKeyFile>
    <DelaySign>false</DelaySign>
  </PropertyGroup>

  <!-- ###### Update the section if add a new supported framework ###########
  Define supported target frameworks and define conditional constants.
  A T4 file will generate C# code to provide run-time TargetFramewrok property 
  -->
  <PropertyGroup>
    <TargetFrameworks>netcoreapp2.1;net461;</TargetFrameworks>
  </PropertyGroup>
  
  <PropertyGroup Condition=" '$(TargetFramework)' == 'netcoreapp2.1'">
    <DefineConstants>netcoreapp2_1</DefineConstants>
  </PropertyGroup>
  
  <PropertyGroup Condition=" '$(TargetFramework)' == 'net461'">
    <DefineConstants>net461</DefineConstants>
  </PropertyGroup>

  <PropertyGroup>
    <TransformOnBuild>true</TransformOnBuild>
    <TransformOutOfDateOnly>false</TransformOutOfDateOnly>
    <OverwriteReadOnlyOuputFiles>true</OverwriteReadOnlyOuputFiles>
  </PropertyGroup>

  <ItemGroup>
    <None Update="Properties\targetFramework.tt">
      <Generator>TextTemplatingFileGenerator</Generator>
      <LastGenOutput>targetFramework.cs</LastGenOutput>
    </None>
  </ItemGroup>
  <!-- ############################## Section End ###################################-->

  <PropertyGroup Condition=" '$(TargetFramework)' == 'netcoreapp2.1'">
	  <DefineConstants>NETCORE;NETCORE2_0;$(DefineConstants)</DefineConstants>
  </PropertyGroup>

  <ItemGroup Condition="'$(TargetFramework)' == 'net461'">
    <Reference Include="System" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Runtime.Caching" />
    <Reference Include="System.Data" />
    <Reference Include="System.Runtime.Serialization" />
    <Reference Include="System.Transactions" />
    <Reference Include="Microsoft.CSharp" />
  </ItemGroup>
  <ItemGroup Condition="'$(TargetFramework)' == 'netcoreapp2.1'">
    <Reference Include="System" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Runtime.Caching" />
    <Reference Include="System.Data" />
    <Reference Include="System.Runtime.Serialization" />
    <Reference Include="System.Transactions" />
    <Reference Include="Microsoft.CSharp" />
    <PackageReference Include="System.Configuration.ConfigurationManager" Version="4.5.0" />
    <PackageReference Include="System.Runtime.Caching" Version="4.5.0" />
    <PackageReference Include="Microsoft.Extensions.DependencyModel" Version="2.1.0" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="applicationDesigner\appSecurity.txt" />
    <Content Include="applicationDesigner\appSecurityLocal.txt" />
    <Content Include="applicationDesigner\appSecurityFed.txt" />
    <Compile Include="Configuration\ApplicationAssemblyResolver.cs" />
    <Compile Include="Configuration\ConnectionString.cs" />
    <Compile Include="Configuration\EnvironmentInitializationOption.cs" />
    <Compile Include="Context\ContextStoreType.cs" />
    <Compile Include="Context\StaticContextStore.cs" />
    <Compile Include="Data\CommonDbDataTypeMapper.cs" />
    <Compile Include="Data\ConditionalSql.cs" />
    <Compile Include="Data\DbSqlStatement.cs" />
    <Compile Include="Data\DbTypeMapper.cs" />
    <Compile Include="Data\netcoreDataExtension.cs" />
    <Compile Include="Data\Sql\SqlDDLDatabase.cs" />
    <Compile Include="Data\Sql\SqlDDLIndex.cs" />
    <Compile Include="Data\Sql\SqlDialectStandard.cs" />
    <Compile Include="Data\Sql\TrackingName.cs" />
    <Compile Include="Exception\BatchException.cs" />
    <Compile Include="Globalization\LabelTranslation.cs" />
    <Compile Include="IStartupInitializer.cs" />
    <Compile Include="Logger\ConsoleLoggerProvider.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="IoC\IIocContainer.cs" />
    <Compile Include="IoC\IIocModule.cs" />
    <Compile Include="IoC\Ioc.cs">
      <IncludeInPackage>false</IncludeInPackage>
    </Compile>
    <Compile Include="IoC\IocException.cs" />
    <Compile Include="IoC\IocContainerBase.cs" />
    <Compile Include="IoC\IocInstanceScope.cs" />
    <Compile Include="Properties\qshineAssemblyInfo.cs" />
    <Compile Include="Resources\Resource.Designer.cs" />
    <Compile Include="IoC\TinyIoC\IocTinyIoC.cs" />
    <Compile Include="IoC\TinyIoC\TinyIoC.cs" />
    <Compile Include="IoC\IIocProvider.cs" />
    <Compile Include="Configuration\EnvironmentConfigure.cs" />
    <Compile Include="Configuration\Setting\ComponentElement.cs" />
    <Compile Include="Configuration\Setting\ComponentElementCollection.cs" />
    <Compile Include="Configuration\Setting\ConfigurationElementCollection.cs" />
    <Compile Include="Configuration\Setting\EnvironmentElement.cs" />
    <Compile Include="Configuration\Setting\EnvironmentElementCollection.cs" />
    <Compile Include="Configuration\Setting\EnvironmentSection.cs" />
    <Compile Include="Configuration\Setting\KeyValueElement.cs" />
    <Compile Include="Configuration\Setting\KeyValueElementCollection.cs" />
    <Compile Include="Configuration\Setting\ModuleElementCollection.cs" />
    <Compile Include="Configuration\Setting\NamedConfigurationElement.cs" />
    <Compile Include="Configuration\Setting\NamedElementCollection.cs" />
    <Compile Include="Configuration\Setting\NamedTypeElement.cs" />
    <Compile Include="Configuration\NamedValue.cs" />
    <Compile Include="Configuration\Setting\NamedValueElement.cs" />
    <Compile Include="Configuration\Setting\ParameterElementCollection.cs" />
    <Compile Include="Configuration\Setting\SectionHandler.cs" />
    <Compile Include="Configuration\ApplicationEnvironment.cs" />
    <Compile Include="Configuration\PlugableComponent.cs" />
    <Compile Include="Configuration\PlugableAssembly.cs" />
    <Compile Include="Logger\ILoggerProvider.cs" />
    <Compile Include="Logger\Log.cs" />
    <Compile Include="Logger\ILogger.cs" />
    <Compile Include="Logger\TraceLogger.cs" />
    <Compile Include="Logger\LoggerBase.cs" />
    <Compile Include="Utility\EnvironmentEx.cs" />
    <Compile Include="Utility\FastHash.cs" />
    <Compile Include="Utility\ObjectInspector.cs" />
    <Compile Include="Utility\EnumExtension.cs" />
    <Compile Include="Globalization\Resources.Designer.cs">
      <DependentUpon>Resources.resx</DependentUpon>
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
    </Compile>
    <Compile Include="Context\ContextManager.cs" />
    <Compile Include="Context\CallContextStore.cs" />
    <Compile Include="Context\LocalContextStore.cs" />
    <Compile Include="Context\IContextStore.cs" />
    <Compile Include="IProvider.cs" />
    <Compile Include="Cache\ICacheProvider.cs" />
    <Compile Include="Cache\CacheItemPriority.cs" />
    <Compile Include="Cache\CommonCache\MemoryCacheStore.cs" />
    <Compile Include="Cache\ICache.cs" />
    <Compile Include="Cache\Cache.cs" />
    <Compile Include="Utility\Check.cs" />
    <Compile Include="Data\DbClient.cs" />
    <Compile Include="Utility\Interceptor.cs" />
    <Compile Include="Data\DbParameters.cs" />
    <Compile Include="Data\DbReaderExtension.cs" />
    <Compile Include="Data\Database.cs" />
    <Compile Include="Messaging\IBus.cs" />
    <Compile Include="Messaging\IMessage.cs" />
    <Compile Include="Messaging\IMessageHandler.cs" />
    <Compile Include="Messaging\ICommandBus.cs" />
    <Compile Include="Messaging\ICommandMessage.cs" />
    <Compile Include="Messaging\IEventBus.cs" />
    <Compile Include="Messaging\IEventMessage.cs" />
    <Compile Include="Messaging\IEventMessageHandler.cs" />
    <Compile Include="Messaging\ICommandBusFactory.cs" />
    <Compile Include="Exception\InvalidProviderException.cs" />
    <Compile Include="Messaging\DefaultCommandBus\DefaultCommandBusFactory.cs" />
    <Compile Include="Messaging\DefaultCommandBus\NetCommandBus.cs" />
    <Compile Include="Messaging\MessageEnvelope.cs" />
    <Compile Include="Utility\Json\IJsonProvider.cs" />
    <Compile Include="Utility\Json\DotNetJsonSerializer.cs" />
    <Compile Include="Utility\Json\JsonExtension.cs" />
    <Compile Include="Messaging\CommandBusBase.cs" />
    <Compile Include="Messaging\ICommandHandler.cs" />
    <Compile Include="Utility\ObjectExtension.cs" />
    <Compile Include="Data\UnitOfWork\IUnitOfWork.cs" />
    <Compile Include="Data\UnitOfWork\IUnitOfWorkProvider.cs" />
    <Compile Include="Data\UnitOfWork\UnitOfWork.cs" />
    <Compile Include="Data\UnitOfWork\DbUnitOfWorkProvider.cs" />
    <Compile Include="Data\UnitOfWork\DbUnitOfWork.cs" />
    <Compile Include="Data\UnitOfWork\TransactionScopeUnitOfWork.cs" />
    <Compile Include="Data\UnitOfWork\DbSession.cs" />
    <Compile Include="Compiler\ScriptCompiler.cs" />
    <Compile Include="Compiler\ScriptBuilder.cs" />
    <Compile Include="Compiler\ScriptBlock.cs" />
    <Compile Include="Data\Sql\ISqlDialect.cs" />
    <Compile Include="Data\Sql\ISqlDialectProvider.cs" />
    <Compile Include="Data\Sql\SqlDDLBuilder.cs" />
    <Compile Include="Data\Sql\SqlDDL.cs" />
    <Compile Include="Data\Sql\SqlDDLColumn.cs" />
    <Compile Include="Data\Sql\SqlDDLTable.cs" />
    <Compile Include="Data\Sql\SqlDDLTracking.cs" />
    <Compile Include="Data\Sql\TrackingColumn.cs" />
    <Compile Include="Data\Sql\TrackingObjectType.cs" />
    <Compile Include="Data\Sql\TrackingTable.cs" />
    <Compile Include="Messaging\CommandBus.cs" />
    <Compile Include="Utility\SafeDictionary.cs" />
    <Compile Include="Utility\StateObject.cs" />
    <Compile Include="Utility\xml\xmlHelper.cs" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="applicationDesigner\1_ServiceBasedWebApplication.txt" />
    <Content Include="applicationDesigner\1_WebApplication.txt" />
    <Content Include="applicationDesigner\3_InfrInterceptor.txt" />
  </ItemGroup>
  <ItemGroup>
    <None Include="..\qshine.snk" Link="qshine.snk" />
    <Compile Include="Properties\targetFramework.cs">
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
      <DependentUpon>targetFramework.tt</DependentUpon>
      <CopyToOutputDirectory>Never</CopyToOutputDirectory>
    </Compile>
    <None Include="Resources\Resource.resx" />
    <None Include="sampleEnvironment\mySystemFolder\config\ioc.config" />
    <None Include="sampleEnvironment\mySystemFolder\config\main.config" />
    <None Include="sampleEnvironment\myApplicationFolder\config\ioc.config" />
    <None Include="Configuration\Setting\0-readme.txt" />
    <None Include="IoC\0-readme.txt" />
    <None Include="Context\0-readme.txt" />
    <None Include="Configuration\0-readme.txt" />
    <None Include="applicationDesigner\2_InfrastructureConfig.txt" />
    <None Include="applicationDesigner\0_readme.txt" />
    <None Include="applicationDesigner\configStructure.txt" />
    <None Include="applicationDesigner\configureTypicApplication.txt" />
    <None Include="applicationDesigner\commandBus_Send.txt" />
    <None Include="applicationDesigner\commandBus_SendAsyn.txt" />
    <None Include="applicationDesigner\unitOfWork.txt" />
    <None Include="Compiler\readme.txt" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Globalization\Resources.resx">
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>Resources.Designer.cs</LastGenOutput>
    </EmbeddedResource>
  </ItemGroup>
  <ItemGroup>
    <Service Include="{508349b6-6b84-4df5-91f0-309beebad82d}" />
  </ItemGroup>

</Project>